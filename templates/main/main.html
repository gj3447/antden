{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var graph= '{{graph}}'
        console.log('ㅎㅇㅎㅇ');
        console.log(graph);
        var array = graph.split(',');
        var count = 1
        var result = [['a','b']]
        while(count<array.length){
            result.push([String(count),Number(array[count])])
            count++
        }
        console.log(result)
        var data = google.visualization.arrayToDataTable(
            result
        );

        var options = {
          title: 'Company Performance',
          hAxis: {title: 'Year',  titleTextStyle: {color: '#333'}},
          vAxis: {minValue: 0}
        };

        var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Dashboard - SB Admin</title>
        <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
        <link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet" crossorigin="anonymous" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/js/all.min.js" crossorigin="anonymous"></script>
    </head>
    
    {% include "header/header.html" %}
    <body class="sb-nav-fixed">
        
        <p>제목{{name}}</p>
        <div id="layoutSidenav">
            <div id="layoutSidenav_content">
                <main class="h-100 v-100">
                    <div class="container-fluid h-100">
                        <h1 class="mt-4">
                            <font style="vertical-align: inherit;">
                                <font style="vertical-align: inherit;">{{name}}
                                </font>
                            </font>
                        </h1>
                        <div class="row h-100">
                            <div class="col-md-9 p-0">
                                <div class="chart-box container-fluid m-2 mt-4 mb-4" style="height: 60%;">
                                    <div id="chart_div" style="width: 100%; height: 100%;"></div>
                                </div>
                                <div class="container-fluid p-2" style="height: 30%;">
                                    <div class="container-fluid h-100 p-0">
                                        <div class="row h-100">
                                            <div class="col-md-9">
                                                <div class="card v-100 h-100">
                                                    <div class="card-header" style="height: 15%; background-color: rgb(214, 144, 94);">상세정보</div>
                                                    <div class="card-body p-3" style="height: 85%;">
                                                        <div class="container-fluid h-100 p-0">
                                                            <div class="row h-100">
                                                                <div class="stock-information col-md-8 h-50"></div>
                                                                <div class="stock-information col-md-4 h-50"></div>
                                                                <div class="stock-information col-md-6 h-50"></div>
                                                                <div class="stock-information col-md-6 h-50"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="card v-100 h-100">
                                                    <div class="card-header" style="height: 15%; background-color: rgb(214, 144, 94);">상세정보</div>
                                                    <div class="card-body p-3" style="height: 85%;">
                                                        <div class="container-fluid h-100 p-0">
                                                            <div class="row h-100">
                                                                <div class="stock-information col-xs-12 h-50"></div>
                                                                <div class="stock-information col-xs-12 h-50"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 p-0">
                                <div class="container-fluid p-4" style="height: 90vh; overflow: auto;">
                                    <ul class="stock-lists">

                                        {% for stock in stocklist %}
                                        
                                        <li class="stock-list">
                                            <div class="container-fluid p-0">
                                                <div class="row pl-4">
                                                    <button type="button" class="btn btn-primary">
                                                    <div>{{stock.name}}</div>
                                                    <div>시가: {{stock.price}}</div>
                                                    <div>상승률: 10%</div>
                                                    </button>
                                                </div>
                                            </div>
                                        </li>
                                        {% endfor %}

                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="js/scripts.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/chart-area-demo.js"></script>
        <script src="assets/demo/chart-bar-demo.js"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/datatables-demo.js"></script>
    </body>
</html>